<section class="card">
  <h2 class="title">Lista de productos en tiempo real</h2>
  <p class="muted">Crear o eliminar productos</p>

  <div class="split">
    <form id="createForm" class="panel">
      <h3>Crear producto</h3>

      <label class="field">
        <span>Título *</span>
        <input name="title" required />
      </label>

      <label class="field">
        <span>Descripción *</span>
        <input name="description" required />
      </label>

      <label class="field">
        <span>Code (único) *</span>
        <input name="code" required />
      </label>

      <div class="cols">
        <label class="field">
          <span>Precio *</span>
          <input name="price" type="number" step="0.01" min="0" required />
        </label>
        <label class="field">
          <span>Stock *</span>
          <input name="stock" type="number" step="1" min="0" required />
        </label>
      </div>

      <label class="field">
        <span>Categoría *</span>
        <input name="category" required />
      </label>

      <label class="field">
        <span>Thumbnails (separados por coma)</span>
        <input name="thumbnails" placeholder="img/1.png, img/2.png" />
      </label>

      <label class="field checkbox">
        <input name="status" type="checkbox" checked />
        <span>Status</span>
      </label>

      <button type="submit" class="btn">Crear</button>
      <div id="formMsg" class="form-msg" aria-live="polite"></div>
    </form>

    <div class="panel">
      <h3>Lista</h3>
      <ul class="grid" id="rtProductsList">
        {{#each products}}
        <li class="product" data-id="{{id}}">
          <div class="row">
            <strong>{{title}}</strong>
            <span class="badge">ID: {{id}} • <span class="{{#if status}}badge-active{{else}}badge-inactive{{/if}}">{{#if status}}Activo{{else}}Inactivo{{/if}}</span></span>
          </div>
          <div class="muted">{{description}}</div>
          <div class="row gap">
            <span>$ {{price}}</span>
            <span class="chip">code: {{code}}</span>
            <span class="chip">stock: {{stock}}</span>
          </div>
          <div class="actions-row">
  <button class="btn danger" data-action="delete" data-id="{{id}}">Eliminar</button>

  <label class="switch" title="Activar / desactivar">
    <input type="checkbox" data-action="toggle" data-id="{{id}}" {{#if status}}checked{{/if}}>
    <span class="slider"></span>
  </label>
</div>
        </li>
        {{/each}}
      </ul>
    </div>
  </div>
</section>

<script src="/socket.io/socket.io.js"></script>
<script src="/js/realtime.js"></script>